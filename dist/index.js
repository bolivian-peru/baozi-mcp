#!/usr/bin/env node
/**
 * Baozi MCP Server V2.0.0
 *
 * Model Context Protocol server for Baozi prediction markets on Solana.
 * Now with mainnet support and transaction building capabilities.
 *
 * Features:
 * - Read markets, positions, quotes
 * - Validate market timing (v6.3 rules)
 * - Build unsigned bet transactions
 * - Simulate transactions before signing
 *
 * Usage:
 *   npx @baozi.bet/mcp-server
 *
 * Or add to Claude Desktop config:
 *   {
 *     "mcpServers": {
 *       "baozi": {
 *         "command": "npx",
 *         "args": ["@baozi.bet/mcp-server"]
 *       }
 *     }
 *   }
 *
 * Environment Variables:
 *   HELIUS_RPC_URL    - Helius RPC endpoint (recommended)
 *   SOLANA_RPC_URL    - Alternative RPC endpoint
 *   SOLANA_NETWORK    - Network: 'mainnet-beta' (default) or 'devnet'
 *   BAOZI_PROGRAM_ID  - Override program ID (default: V4.7.6 mainnet)
 */
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import { CallToolRequestSchema, ListToolsRequestSchema, ListResourcesRequestSchema, ReadResourceRequestSchema, } from '@modelcontextprotocol/sdk/types.js';
import { TOOLS, handleTool } from './tools.js';
import { RESOURCES, handleResource } from './resources.js';
import { PROGRAM_ID, NETWORK, IS_MAINNET, RPC_ENDPOINT } from './config.js';
const VERSION = '2.0.0';
// Create MCP server
const server = new Server({
    name: 'baozi-mcp',
    version: VERSION,
}, {
    capabilities: {
        tools: {},
        resources: {},
    },
});
// List available tools
server.setRequestHandler(ListToolsRequestSchema, async () => {
    return { tools: TOOLS };
});
// Handle tool calls
server.setRequestHandler(CallToolRequestSchema, async (request) => {
    const { name, arguments: args } = request.params;
    return handleTool(name, args || {});
});
// List available resources
server.setRequestHandler(ListResourcesRequestSchema, async () => {
    return { resources: RESOURCES };
});
// Read resource content
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
    const { uri } = request.params;
    return handleResource(uri);
});
// Start server
async function main() {
    const transport = new StdioServerTransport();
    await server.connect(transport);
    // Log startup info to stderr (stdout is for MCP protocol)
    console.error('');
    console.error('='.repeat(60));
    console.error(`Baozi MCP Server v${VERSION}`);
    console.error('='.repeat(60));
    console.error('');
    console.error(`Network: ${IS_MAINNET ? 'MAINNET' : 'Devnet'} (${NETWORK})`);
    console.error(`Program ID: ${PROGRAM_ID.toBase58()}`);
    console.error(`RPC: ${RPC_ENDPOINT.substring(0, 50)}...`);
    console.error('');
    console.error('Available Tools:');
    console.error('-'.repeat(40));
    TOOLS.forEach(tool => {
        console.error(`  ${tool.name}`);
        console.error(`    ${tool.description.substring(0, 70)}...`);
    });
    console.error('');
    console.error('Available Resources:');
    console.error('-'.repeat(40));
    RESOURCES.forEach(resource => {
        console.error(`  ${resource.uri}`);
        console.error(`    ${resource.description}`);
    });
    console.error('');
    console.error('Dynamic Resources:');
    console.error('-'.repeat(40));
    console.error('  baozi://portfolio/{wallet}');
    console.error('    User portfolio with positions and statistics');
    console.error('');
    console.error('='.repeat(60));
    console.error('Ready for connections...');
    console.error('');
}
main().catch((error) => {
    console.error('Fatal error:', error);
    process.exit(1);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0E4Qkc7QUFDSCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFDbkUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFDakYsT0FBTyxFQUNMLHFCQUFxQixFQUNyQixzQkFBc0IsRUFDdEIsMEJBQTBCLEVBQzFCLHlCQUF5QixHQUMxQixNQUFNLG9DQUFvQyxDQUFDO0FBRTVDLE9BQU8sRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQy9DLE9BQU8sRUFBRSxTQUFTLEVBQUUsY0FBYyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDM0QsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUU1RSxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFFeEIsb0JBQW9CO0FBQ3BCLE1BQU0sTUFBTSxHQUFHLElBQUksTUFBTSxDQUN2QjtJQUNFLElBQUksRUFBRSxXQUFXO0lBQ2pCLE9BQU8sRUFBRSxPQUFPO0NBQ2pCLEVBQ0Q7SUFDRSxZQUFZLEVBQUU7UUFDWixLQUFLLEVBQUUsRUFBRTtRQUNULFNBQVMsRUFBRSxFQUFFO0tBQ2Q7Q0FDRixDQUNGLENBQUM7QUFFRix1QkFBdUI7QUFDdkIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLHNCQUFzQixFQUFFLEtBQUssSUFBSSxFQUFFO0lBQzFELE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUM7QUFDMUIsQ0FBQyxDQUFDLENBQUM7QUFFSCxvQkFBb0I7QUFDcEIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLHFCQUFxQixFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFB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L0MsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUNwQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5QixPQUFPLENBQUMsS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7SUFDOUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO0lBQ2xFLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDbEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUIsT0FBTyxDQUFDLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0lBQzFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDcEIsQ0FBQztBQUVELElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ3JCLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG4vKipcbiAqIEJhb3ppIE1DUCBTZXJ2ZXIgVjIuMC4wXG4gKlxuICogTW9kZWwgQ29udGV4dCBQcm90b2NvbCBzZXJ2ZXIgZm9yIEJhb3ppIHByZWRpY3Rpb24gbWFya2V0cyBvbiBTb2xhbmEuXG4gKiBOb3cgd2l0aCBtYWlubmV0IHN1cHBvcnQgYW5kIHRyYW5zYWN0aW9uIGJ1aWxkaW5nIGNhcGFiaWxpdGllcy5cbiAqXG4gKiBGZWF0dXJlczpcbiAqIC0gUmVhZCBtYXJrZXRzLCBwb3NpdGlvbnMsIHF1b3Rlc1xuICogLSBWYWxpZGF0ZSBtYXJrZXQgdGltaW5nICh2Ni4zIHJ1bGVzKVxuICogLSBCdWlsZCB1bnNpZ25lZCBiZXQgdHJhbnNhY3Rpb25zXG4gKiAtIFNpbXVsYXRlIHRyYW5zYWN0aW9ucyBiZWZvcmUgc2lnbmluZ1xuICpcbiAqIFVzYWdlOlxuICogICBucHggQGJhb3ppLmJldC9tY3Atc2VydmVyXG4gKlxuICogT3IgYWRkIHRvIENsYXVkZSBEZXNrdG9wIGNvbmZpZzpcbiAqICAge1xuICogICAgIFwibWNwU2VydmVyc1wiOiB7XG4gKiAgICAgICBcImJhb3ppXCI6IHtcbiAqICAgICAgICAgXCJjb21tYW5kXCI6IFwibnB4XCIsXG4gKiAgICAgICAgIFwiYXJnc1wiOiBbXCJAYmFvemkuYmV0L21jcC1zZXJ2ZXJcIl1cbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiBFbnZpcm9ubWVudCBWYXJpYWJsZXM6XG4gKiAgIEhFTElVU19SUENfVVJMICAgIC0gSGVsaXVzIFJQQyBlbmRwb2ludCAocmVjb21tZW5kZWQpXG4gKiAgIFNPTEFOQV9SUENfVVJMICAgIC0gQWx0ZXJuYXRpdmUgUlBDIGVuZHBvaW50XG4gKiAgIFNPTEFOQV9ORVRXT1JLICAgIC0gTmV0d29yazogJ21haW5uZXQtYmV0YScgKGRlZmF1bHQpIG9yICdkZXZuZXQnXG4gKiAgIEJBT1pJX1BST0dSQU1fSUQgIC0gT3ZlcnJpZGUgcHJvZ3JhbSBJRCAoZGVmYXVsdDogVjQuNy42IG1haW5uZXQpXG4gKi9cbmltcG9ydCB7IFNlcnZlciB9IGZyb20gJ0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2VydmVyL2luZGV4LmpzJztcbmltcG9ydCB7IFN0ZGlvU2VydmVyVHJhbnNwb3J0IH0gZnJvbSAnQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zZXJ2ZXIvc3RkaW8uanMnO1xuaW1wb3J0IHtcbiAgQ2FsbFRvb2xSZXF1ZXN0U2NoZW1hLFxuICBMaXN0VG9vbHNSZXF1ZXN0U2NoZW1hLFxuICBMaXN0UmVzb3VyY2VzUmVxdWVzdFNjaGVtYSxcbiAgUmVhZFJlc291cmNlUmVxdWVzdFNjaGVtYSxcbn0gZnJvbSAnQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay90eXBlcy5qcyc7XG5cbmltcG9ydCB7IFRPT0xTLCBoYW5kbGVUb29sIH0gZnJvbSAnLi90b29scy5qcyc7XG5pbXBvcnQgeyBSRVNPVVJDRVMsIGhhbmRsZVJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMuanMnO1xuaW1wb3J0IHsgUFJPR1JBTV9JRCwgTkVUV09SSywgSVNfTUFJTk5FVCwgUlBDX0VORFBPSU5UIH0gZnJvbSAnLi9jb25maWcuanMnO1xuXG5jb25zdCBWRVJTSU9OID0gJzIuMC4wJztcblxuLy8gQ3JlYXRlIE1DUCBzZXJ2ZXJcbmNvbnN0IHNlcnZlciA9IG5ldyBTZXJ2ZXIoXG4gIHtcbiAgICBuYW1lOiAnYmFvemktbWNwJyxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICB9LFxuICB7XG4gICAgY2FwYWJpbGl0aWVzOiB7XG4gICAgICB0b29sczoge30sXG4gICAgICByZXNvdXJjZXM6IHt9LFxuICAgIH0sXG4gIH1cbik7XG5cbi8vIExpc3QgYXZhaWxhYmxlIHRvb2xzXG5zZXJ2ZXIuc2V0UmVxdWVzdEhhbmRsZXIoTGlzdFRvb2xzUmVxdWVzdFNjaGVtYSwgYXN5bmMgKCkgPT4ge1xuICByZXR1cm4geyB0b29sczogVE9PTFMgfTtcbn0pO1xuXG4vLyBIYW5kbGUgdG9vbCBjYWxsc1xuc2VydmVyLnNldFJlcXVlc3RIYW5kbGVyKENhbGxUb29sUmVxdWVzdFNjaGVtYSwgYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSA9IHJlcXVlc3QucGFyYW1zO1xuICByZXR1cm4gaGFuZGxlVG9vbChuYW1lLCBhcmdzIHx8IHt9KTtcbn0pO1xuXG4vLyBMaXN0IGF2YWlsYWJsZSByZXNvdXJjZXNcbnNlcnZlci5zZXRSZXF1ZXN0SGFuZGxlcihMaXN0UmVzb3VyY2VzUmVxdWVzdFNjaGVtYSwgYXN5bmMgKCkgPT4ge1xuICByZXR1cm4geyByZXNvdXJjZXM6IFJFU09VUkNFUyB9O1xufSk7XG5cbi8vIFJlYWQgcmVzb3VyY2UgY29udGVudFxuc2VydmVyLnNldFJlcXVlc3RIYW5kbGVyKFJlYWRSZXNvdXJjZVJlcXVlc3RTY2hlbWEsIGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gIGNvbnN0IHsgdXJpIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgcmV0dXJuIGhhbmRsZVJlc291cmNlKHVyaSk7XG59KTtcblxuLy8gU3RhcnQgc2VydmVyXG5hc3luYyBmdW5jdGlvbiBtYWluKCkge1xuICBjb25zdCB0cmFuc3BvcnQgPSBuZXcgU3RkaW9TZXJ2ZXJUcmFuc3BvcnQoKTtcbiAgYXdhaXQgc2VydmVyLmNvbm5lY3QodHJhbnNwb3J0KTtcblxuICAvLyBMb2cgc3RhcnR1cCBpbmZvIHRvIHN0ZGVyciAoc3Rkb3V0IGlzIGZvciBNQ1AgcHJvdG9jb2wpXG4gIGNvbnNvbGUuZXJyb3IoJycpO1xuICBjb25zb2xlLmVycm9yKCc9Jy5yZXBlYXQoNjApKTtcbiAgY29uc29sZS5lcnJvcihgQmFvemkgTUNQIFNlcnZlciB2JHtWRVJTSU9OfWApO1xuICBjb25zb2xlLmVycm9yKCc9Jy5yZXBlYXQoNjApKTtcbiAgY29uc29sZS5lcnJvcignJyk7XG4gIGNvbnNvbGUuZXJyb3IoYE5ldHdvcms6ICR7SVNfTUFJTk5FVCA/ICdNQUlOTkVUJyA6ICdEZXZuZXQnfSAoJHtORVRXT1JLfSlgKTtcbiAgY29uc29sZS5lcnJvcihgUHJvZ3JhbSBJRDogJHtQUk9HUkFNX0lELnRvQmFzZTU4KCl9YCk7XG4gIGNvbnNvbGUuZXJyb3IoYFJQQzogJHtSUENfRU5EUE9JTlQuc3Vic3RyaW5nKDAsIDUwKX0uLi5gKTtcbiAgY29uc29sZS5lcnJvcignJyk7XG4gIGNvbnNvbGUuZXJyb3IoJ0F2YWlsYWJsZSBUb29sczonKTtcbiAgY29uc29sZS5lcnJvcignLScucmVwZWF0KDQwKSk7XG4gIFRPT0xTLmZvckVhY2godG9vbCA9PiB7XG4gICAgY29uc29sZS5lcnJvcihgICAke3Rvb2wubmFtZX1gKTtcbiAgICBjb25zb2xlLmVycm9yKGAgICAgJHt0b29sLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA3MCl9Li4uYCk7XG4gIH0pO1xuICBjb25zb2xlLmVycm9yKCcnKTtcbiAgY29uc29sZS5lcnJvcignQXZhaWxhYmxlIFJlc291cmNlczonKTtcbiAgY29uc29sZS5lcnJvcignLScucmVwZWF0KDQwKSk7XG4gIFJFU09VUkNFUy5mb3JFYWNoKHJlc291cmNlID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGAgICR7cmVzb3VyY2UudXJpfWApO1xuICAgIGNvbnNvbGUuZXJyb3IoYCAgICAke3Jlc291cmNlLmRlc2NyaXB0aW9ufWApO1xuICB9KTtcbiAgY29uc29sZS5lcnJvcignJyk7XG4gIGNvbnNvbGUuZXJyb3IoJ0R5bmFtaWMgUmVzb3VyY2VzOicpO1xuICBjb25zb2xlLmVycm9yKCctJy5yZXBlYXQoNDApKTtcbiAgY29uc29sZS5lcnJvcignICBiYW96aTovL3BvcnRmb2xpby97d2FsbGV0fScpO1xuICBjb25zb2xlLmVycm9yKCcgICAgVXNlciBwb3J0Zm9saW8gd2l0aCBwb3NpdGlvbnMgYW5kIHN0YXRpc3RpY3MnKTtcbiAgY29uc29sZS5lcnJvcignJyk7XG4gIGNvbnNvbGUuZXJyb3IoJz0nLnJlcGVhdCg2MCkpO1xuICBjb25zb2xlLmVycm9yKCdSZWFkeSBmb3IgY29ubmVjdGlvbnMuLi4nKTtcbiAgY29uc29sZS5lcnJvcignJyk7XG59XG5cbm1haW4oKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgY29uc29sZS5lcnJvcignRmF0YWwgZXJyb3I6JywgZXJyb3IpO1xuICBwcm9jZXNzLmV4aXQoMSk7XG59KTtcbiJdfQ==