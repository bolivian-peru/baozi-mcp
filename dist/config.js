/**
 * Baozi MCP Server Configuration
 * Mainnet-ready configuration for V4.7.6
 */
import { PublicKey } from '@solana/web3.js';
// =============================================================================
// NETWORK CONFIGURATION
// =============================================================================
export const NETWORK = (process.env.SOLANA_NETWORK || 'mainnet-beta');
export const IS_MAINNET = NETWORK === 'mainnet-beta';
// Program ID (V4.7.6 - Mainnet)
export const PROGRAM_ID = new PublicKey(process.env.BAOZI_PROGRAM_ID || 'FWyTPzm5cfJwRKzfkscxozatSxF6Qu78JQovQUwKPruJ');
// RPC Endpoints
// Priority: HELIUS_RPC_URL > SOLANA_RPC_URL > public endpoint
export const RPC_ENDPOINT = process.env.HELIUS_RPC_URL
    || process.env.SOLANA_RPC_URL
    || (IS_MAINNET
        ? 'https://api.mainnet-beta.solana.com'
        : 'https://api.devnet.solana.com');
// =============================================================================
// PDA SEEDS
// =============================================================================
export const SEEDS = {
    CONFIG: Buffer.from('config'),
    MARKET: Buffer.from('market'),
    POSITION: Buffer.from('position'),
    RACE: Buffer.from('race'),
    RACE_POSITION: Buffer.from('race_position'),
    WHITELIST: Buffer.from('whitelist'),
    RACE_WHITELIST: Buffer.from('race_whitelist'),
    AFFILIATE: Buffer.from('affiliate'),
    CREATOR_PROFILE: Buffer.from('creator_profile'),
    SOL_TREASURY: Buffer.from('sol_treasury'),
    REVENUE_CONFIG: Buffer.from('revenue_config'),
    DISPUTE_META: Buffer.from('dispute_meta'),
};
// Derive Config PDA
const [derivedConfigPda] = PublicKey.findProgramAddressSync([SEEDS.CONFIG], PROGRAM_ID);
export const CONFIG_PDA = derivedConfigPda;
// Derive Sol Treasury PDA
const [derivedSolTreasuryPda] = PublicKey.findProgramAddressSync([SEEDS.SOL_TREASURY], PROGRAM_ID);
export const SOL_TREASURY_PDA = derivedSolTreasuryPda;
// =============================================================================
// ACCOUNT DISCRIMINATORS (first 8 bytes of sha256 hash)
// =============================================================================
export const DISCRIMINATORS = {
    // Boolean Market
    MARKET: Buffer.from([219, 190, 213, 55, 0, 227, 198, 154]),
    MARKET_BASE58: 'FcJn7zePJQ1',
    // User Position (Boolean)
    USER_POSITION: Buffer.from([251, 248, 209, 245, 83, 234, 17, 27]),
    USER_POSITION_BASE58: 'j9SjDYAWesU',
    // Race Market
    RACE_MARKET: Buffer.from([149, 8, 156, 202, 160, 252, 176, 217]),
    // Race Position
    RACE_POSITION: Buffer.from([44, 182, 16, 1, 230, 14, 174, 46]),
    RACE_POSITION_BASE58: '8Ukm3FYuL6H',
    // Global Config
    GLOBAL_CONFIG: Buffer.from([149, 8, 156, 202, 160, 252, 176, 217]),
    // Creator Profile
    CREATOR_PROFILE: Buffer.from([83, 210, 28, 6, 46, 183, 224, 219]),
    // Affiliate
    AFFILIATE: Buffer.from([24, 240, 16, 245, 33, 46, 77, 168]),
    // Referred User (for affiliate tracking)
    REFERRED_USER: Buffer.from([188, 210, 247, 185, 105, 204, 220, 46]),
    // Dispute Meta
    DISPUTE_META: Buffer.from([62, 14, 221, 64, 175, 241, 48, 165]),
};
// =============================================================================
// FEE CONFIGURATION
// =============================================================================
export const FEES = {
    // Platform fees by layer (bps = basis points, 100 bps = 1%)
    OFFICIAL_PLATFORM_FEE_BPS: 250, // 2.5%
    LAB_PLATFORM_FEE_BPS: 300, // 3%
    PRIVATE_PLATFORM_FEE_BPS: 200, // 2%
    // Creation fees (in lamports)
    OFFICIAL_CREATION_FEE: 10_000_000, // 0.01 SOL
    LAB_CREATION_FEE: 10_000_000, // 0.01 SOL
    PRIVATE_CREATION_FEE: 10_000_000, // 0.01 SOL
    // Fee split (within platform fee)
    AFFILIATE_FEE_BPS: 100, // 1%
    CREATOR_FEE_BPS: 50, // 0.5% (default, can vary)
    BPS_DENOMINATOR: 10000,
};
// =============================================================================
// BET LIMITS
// =============================================================================
export const BET_LIMITS = {
    MIN_BET_SOL: 0.01,
    MAX_BET_SOL: 100,
    MIN_BET_LAMPORTS: 10_000_000, // 0.01 SOL
    MAX_BET_LAMPORTS: 100_000_000_000, // 100 SOL
};
// =============================================================================
// TIMING CONSTANTS
// =============================================================================
export const TIMING = {
    // Betting freeze before close (seconds)
    BETTING_FREEZE_SECONDS: 300, // 5 minutes
    // Minimum buffer between closing time and event (hours)
    MIN_EVENT_BUFFER_HOURS: 12,
    RECOMMENDED_EVENT_BUFFER_HOURS: 24,
    // Maximum market duration
    MAX_MARKET_DURATION_DAYS: 365,
    // Resolution timing
    MIN_RESOLUTION_BUFFER_SECONDS: 600, // 10 minutes
    MAX_RESOLUTION_BUFFER_SECONDS: 604800, // 7 days
    // Dispute window
    DISPUTE_WINDOW_SECONDS: 86400, // 24 hours
};
// =============================================================================
// MARKET STATUS & OUTCOME ENUMS
// =============================================================================
export const MARKET_STATUS = {
    ACTIVE: 0,
    CLOSED: 1,
    RESOLVED: 2,
    CANCELLED: 3,
    PAUSED: 4,
    RESOLVED_PENDING: 5,
    DISPUTED: 6,
};
export const MARKET_STATUS_NAMES = {
    0: 'Active',
    1: 'Closed',
    2: 'Resolved',
    3: 'Cancelled',
    4: 'Paused',
    5: 'ResolvedPending',
    6: 'Disputed',
};
export const MARKET_OUTCOME = {
    UNDECIDED: 0,
    INVALID: 1,
    YES: 2,
    NO: 3,
};
export const MARKET_OUTCOME_NAMES = {
    0: 'Undecided',
    1: 'Invalid',
    2: 'Yes',
    3: 'No',
};
export const MARKET_LAYER = {
    OFFICIAL: 0,
    LAB: 1,
    PRIVATE: 2,
};
export const MARKET_LAYER_NAMES = {
    0: 'Official',
    1: 'Lab',
    2: 'Private',
};
export const MARKET_TYPE = {
    EVENT: 0, // Event-based (Rule A)
    MEASUREMENT: 1, // Measurement-period (Rule B)
};
export const MARKET_TYPE_NAMES = {
    0: 'Event',
    1: 'Measurement',
};
export const ACCESS_GATE = {
    PUBLIC: 0,
    WHITELIST: 1,
};
// =============================================================================
// CURRENCY TYPES
// =============================================================================
export const CURRENCY_TYPE = {
    SOL: 0,
    USDC: 1,
};
export const CURRENCY_TYPE_NAMES = {
    0: 'Sol',
    1: 'Usdc',
};
// =============================================================================
// ERROR CODES (from IDL)
// =============================================================================
export const ERROR_CODES = {
    6000: 'NotExpectedAdmin',
    6001: 'NotAdmin',
    6002: 'NotAdminOrGuardian',
    6003: 'InvalidUsdcMint',
    6004: 'InvalidTreasury',
    6005: 'InvalidVault',
    6006: 'ProtocolPaused',
    6007: 'MarketPaused',
    6008: 'QuestionTooLong',
    6009: 'ClosingTimeInPast',
    6010: 'ClosingTimeTooFar',
    6011: 'EventStartTimeInPast',
    6012: 'EventStartTimeTooFar',
    6013: 'InvalidAutoStopBuffer',
    6014: 'InvalidResolutionBuffer',
    6015: 'MarketNotOpen',
    6016: 'MarketNotClosed',
    6017: 'MarketNotResolved',
    6018: 'BettingClosed',
    6019: 'EventStarted',
    6020: 'BetTooSmall',
    6021: 'SlippageExceeded',
    6022: 'FeeOnTransferNotSupported',
    6023: 'SnapshotTooEarly',
    6024: 'SnapshotAlreadyTaken',
    6025: 'SnapshotNotTaken',
    6026: 'CloseTooEarly',
    6027: 'ResolutionDeadlinePassed',
    6028: 'InvalidOutcome',
    6029: 'AlreadyResolved',
    6030: 'EmergencyResolveTooEarly',
    6031: 'WrongCurrency',
    6032: 'AlreadyClaimed',
    6033: 'NothingToClaim',
    6034: 'MathOverflow',
    6035: 'TooEarlyToResolve',
    6036: 'FeeTooHigh',
    6037: 'InsufficientVaultBalance',
    6038: 'InvalidPosition',
    6039: 'InvalidTokenAccount',
    6040: 'BettingFrozen',
    6041: 'BetTooLarge',
    6042: 'InsufficientMarketBalance',
};
// =============================================================================
// SYSTEM PROGRAM IDS
// =============================================================================
export const SYSTEM_PROGRAM_ID = new PublicKey('11111111111111111111111111111111');
export const TOKEN_PROGRAM_ID = new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');
export const ASSOCIATED_TOKEN_PROGRAM_ID = new PublicKey('ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL');
// =============================================================================
// HELPER FUNCTIONS
// =============================================================================
/**
 * Get lamports from SOL
 */
export function solToLamports(sol) {
    return BigInt(Math.floor(sol * 1_000_000_000));
}
/**
 * Get SOL from lamports
 */
export function lamportsToSol(lamports) {
    return Number(lamports) / 1_000_000_000;
}
/**
 * Derive market PDA from market ID
 */
export function deriveMarketPda(marketId) {
    const marketIdBuffer = Buffer.alloc(8);
    marketIdBuffer.writeBigUInt64LE(BigInt(marketId));
    return PublicKey.findProgramAddressSync([SEEDS.MARKET, marketIdBuffer], PROGRAM_ID);
}
/**
 * Derive position PDA from market ID and user wallet
 */
export function derivePositionPda(marketId, user) {
    const marketIdBuffer = Buffer.alloc(8);
    marketIdBuffer.writeBigUInt64LE(BigInt(marketId));
    return PublicKey.findProgramAddressSync([SEEDS.POSITION, marketIdBuffer, user.toBuffer()], PROGRAM_ID);
}
/**
 * Derive race position PDA from market ID and user wallet
 */
export function deriveRacePositionPda(marketId, user) {
    const marketIdBuffer = Buffer.alloc(8);
    marketIdBuffer.writeBigUInt64LE(BigInt(marketId));
    return PublicKey.findProgramAddressSync([SEEDS.RACE_POSITION, marketIdBuffer, user.toBuffer()], PROGRAM_ID);
}
/**
 * Derive affiliate PDA from referral code
 */
export function deriveAffiliatePda(referralCode) {
    return PublicKey.findProgramAddressSync([SEEDS.AFFILIATE, Buffer.from(referralCode)], PROGRAM_ID);
}
/**
 * Get platform fee for a layer
 */
export function getPlatformFeeForLayer(layer) {
    switch (layer) {
        case MARKET_LAYER.OFFICIAL:
            return FEES.OFFICIAL_PLATFORM_FEE_BPS;
        case MARKET_LAYER.LAB:
            return FEES.LAB_PLATFORM_FEE_BPS;
        case MARKET_LAYER.PRIVATE:
            return FEES.PRIVATE_PLATFORM_FEE_BPS;
        default:
            return FEES.LAB_PLATFORM_FEE_BPS;
    }
}
/**
 * Get creation fee for a layer (in lamports)
 */
export function getCreationFeeForLayer(layer) {
    switch (layer) {
        case MARKET_LAYER.OFFICIAL:
            return FEES.OFFICIAL_CREATION_FEE;
        case MARKET_LAYER.LAB:
            return FEES.LAB_CREATION_FEE;
        case MARKET_LAYER.PRIVATE:
            return FEES.PRIVATE_CREATION_FEE;
        default:
            return FEES.LAB_CREATION_FEE;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFNUMsZ0ZBQWdGO0FBQ2hGLHdCQUF3QjtBQUN4QixnRkFBZ0Y7QUFFaEYsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLElBQUksY0FBYyxDQUE4QixDQUFDO0FBQ25HLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxPQUFPLEtBQUssY0FBYyxDQUFDO0FBRXJELGdDQUFnQztBQUNoQyxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsSUFBSSxTQUFTLENBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLElBQUksOENBQThDLENBQy9FLENBQUM7QUFFRixnQkFBZ0I7QUFDaEIsOERBQThEO0FBQzlELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWM7T0FDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjO09BQzFCLENBQUMsVUFBVTtRQUNaLENBQUMsQ0FBQyxxQ0FBcUM7UUFDdkMsQ0FBQyxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFFdkMsZ0ZBQWdGO0FBQ2hGLFlBQVk7QUFDWixnRkFBZ0Y7QUFFaEYsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHO0lBQ25CLE1BQU0sRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUM3QixNQUFNLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDN0IsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ2pDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN6QixhQUFhLEVBQUUsTUFBTSxDQUFDLElB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SCxNQUFNLFVBQVUsc0JBQXNCLENBQUMsS0FBYTtJQUNsRCxRQUFRLEtBQUssRUFBRSxDQUFDO1FBQ2QsS0FBSyxZQUFZLENBQUMsUUFBUTtZQUN4QixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztRQUNwQyxLQUFLLFlBQVksQ0FBQyxHQUFHO1lBQ25CLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQy9CLEtBQUssWUFBWSxDQUFDLE9BQU87WUFDdkIsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUM7UUFDbkM7WUFDRSxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNqQyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQmFvemkgTUNQIFNlcnZlciBDb25maWd1cmF0aW9uXG4gKiBNYWlubmV0LXJlYWR5IGNvbmZpZ3VyYXRpb24gZm9yIFY0LjcuNlxuICovXG5pbXBvcnQgeyBQdWJsaWNLZXkgfSBmcm9tICdAc29sYW5hL3dlYjMuanMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTkVUV09SSyBDT05GSUdVUkFUSU9OXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgTkVUV09SSyA9IChwcm9jZXNzLmVudi5TT0xBTkFfTkVUV09SSyB8fCAnbWFpbm5ldC1iZXRhJykgYXMgJ21haW5uZXQtYmV0YScgfCAnZGV2bmV0JztcbmV4cG9ydCBjb25zdCBJU19NQUlOTkVUID0gTkVUV09SSyA9PT0gJ21haW5uZXQtYmV0YSc7XG5cbi8vIFByb2dyYW0gSUQgKFY0LjcuNiAtIE1haW5uZXQpXG5leHBvcnQgY29uc3QgUFJPR1JBTV9JRCA9IG5ldyBQdWJsaWNLZXkoXG4gIHByb2Nlc3MuZW52LkJBT1pJX1BST0dSQU1fSUQgfHwgJ0ZXeVRQem01Y2ZKd1JLemZrc2N4b3phdFN4RjZRdTc4SlFvdlFVd0tQcnVKJ1xuKTtcblxuLy8gUlBDIEVuZHBvaW50c1xuLy8gUHJpb3JpdHk6IEhFTElVU19SUENfVVJMID4gU09MQU5BX1JQQ19VUkwgPiBwdWJsaWMgZW5kcG9pbnRcbmV4cG9ydCBjb25zdCBSUENfRU5EUE9JTlQgPSBwcm9jZXNzLmVudi5IRUxJVVNfUlBDX1VSTFxuICB8fCBwcm9jZXNzLmVudi5TT0xBTkFfUlBDX1VSTFxuICB8fCAoSVNfTUFJTk5FVFxuICAgID8gJ2h0dHBzOi8vYXBpLm1haW5uZXQtYmV0YS5zb2xhbmEuY29tJ1xuICAgIDogJ2h0dHBzOi8vYXBpLmRldm5ldC5zb2xhbmEuY29tJyk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQREEgU0VFRFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBTRUVEUyA9IHtcbiAgQ09ORklHOiBCdWZmZXIuZnJvbSgnY29uZmlnJyksXG4gIE1BUktFVDogQnVmZmVyLmZyb20oJ21hcmtldCcpLFxuICBQT1NJVElPTjogQnVmZmVyLmZyb20oJ3Bvc2l0aW9uJyksXG4gIFJBQ0U6IEJ1ZmZlci5mcm9tKCdyYWNlJyksXG4gIFJBQ0VfUE9TSVRJT046IEJ1ZmZlci5mcm9tKCdyYWNlX3Bvc2l0aW9uJyksXG4gIFdISVRFTElTVDogQnVmZmVyLmZyb20oJ3doaXRlbGlzdCcpLFxuICBSQUNFX1dISVRFTElTVDogQnVmZmVyLmZyb20oJ3JhY2Vfd2hpdGVsaXN0JyksXG4gIEFGRklMSUFURTogQnVmZmVyLmZyb20oJ2FmZmlsaWF0ZScpLFxuICBDUkVBVE9SX1BST0ZJTEU6IEJ1ZmZlci5mcm9tKCdjcmVhdG9yX3Byb2ZpbGUnKSxcbiAgU09MX1RSRUFTVVJZOiBCdWZmZXIuZnJvbSgnc29sX3RyZWFzdXJ5JyksXG4gIFJFVkVOVUVfQ09ORklHOiBCdWZmZXIuZnJvbSgncmV2ZW51ZV9jb25maWcnKSxcbiAgRElTUFVURV9NRVRBOiBCdWZmZXIuZnJvbSgnZGlzcHV0ZV9tZXRhJyksXG59IGFzIGNvbnN0O1xuXG4vLyBEZXJpdmUgQ29uZmlnIFBEQVxuY29uc3QgW2Rlcml2ZWRDb25maWdQZGFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gIFtTRUVEUy5DT05GSUddLFxuICBQUk9HUkFNX0lEXG4pO1xuZXhwb3J0IGNvbnN0IENPTkZJR19QREEgPSBkZXJpdmVkQ29uZmlnUGRhO1xuXG4vLyBEZXJpdmUgU29sIFRyZWFzdXJ5IFBEQVxuY29uc3QgW2Rlcml2ZWRTb2xUcmVhc3VyeVBkYV0gPSBQdWJsaWNLZXkuZmluZFByb2dyYW1BZGRyZXNzU3luYyhcbiAgW1NFRURTLlNPTF9UUkVBU1VSWV0sXG4gIFBST0dSQU1fSURcbik7XG5leHBvcnQgY29uc3QgU09MX1RSRUFTVVJZX1BEQSA9IGRlcml2ZWRTb2xUcmVhc3VyeVBkYTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFDQ09VTlQgRElTQ1JJTUlOQVRPUlMgKGZpcnN0IDggYnl0ZXMgb2Ygc2hhMjU2IGhhc2gpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgRElTQ1JJTUlOQVRPUlMgPSB7XG4gIC8vIEJvb2xlYW4gTWFya2V0XG4gIE1BUktFVDogQnVmZmVyLmZyb20oWzIxOSwgMTkwLCAyMTMsIDU1LCAwLCAyMjcsIDE5OCwgMTU0XSksXG4gIE1BUktFVF9CQVNFNTg6ICdGY0puN3plUEpRMScsXG5cbiAgLy8gVXNlciBQb3NpdGlvbiAoQm9vbGVhbilcbiAgVVNFUl9QT1NJVElPTjogQnVmZmVyLmZyb20oWzI1MSwgMjQ4LCAyMDksIDI0NSwgODMsIDIzNCwgMTcsIDI3XSksXG4gIFVTRVJfUE9TSVRJT05fQkFTRTU4OiAnajlTakRZQVdlc1UnLFxuXG4gIC8vIFJhY2UgTWFya2V0XG4gIFJBQ0VfTUFSS0VUOiBCdWZmZXIuZnJvbShbMTQ5LCA4LCAxNTYsIDIwMiwgMTYwLCAyNTIsIDE3NiwgMjE3XSksXG5cbiAgLy8gUmFjZSBQb3NpdGlvblxuICBSQUNFX1BPU0lUSU9OOiBCdWZmZXIuZnJvbShbNDQsIDE4MiwgMTYsIDEsIDIzMCwgMTQsIDE3NCwgNDZdKSxcbiAgUkFDRV9QT1NJVElPTl9CQVNFNTg6ICc4VWttM0ZZdUw2SCcsXG5cbiAgLy8gR2xvYmFsIENvbmZpZ1xuICBHTE9CQUxfQ09ORklHOiBCdWZmZXIuZnJvbShbMTQ5LCA4LCAxNTYsIDIwMiwgMTYwLCAyNTIsIDE3NiwgMjE3XSksXG5cbiAgLy8gQ3JlYXRvciBQcm9maWxlXG4gIENSRUFUT1JfUFJPRklMRTogQnVmZmVyLmZyb20oWzgzLCAyMTAsIDI4LCA2LCA0NiwgMTgzLCAyMjQsIDIxOV0pLFxuXG4gIC8vIEFmZmlsaWF0ZVxuICBBRkZJTElBVEU6IEJ1ZmZlci5mcm9tKFsyNCwgMjQwLCAxNiwgMjQ1LCAzMywgNDYsIDc3LCAxNjhdKSxcblxuICAvLyBSZWZlcnJlZCBVc2VyIChmb3IgYWZmaWxpYXRlIHRyYWNraW5nKVxuICBSRUZFUlJFRF9VU0VSOiBCdWZmZXIuZnJvbShbMTg4LCAyMTAsIDI0NywgMTg1LCAxMDUsIDIwNCwgMjIwLCA0Nl0pLFxuXG4gIC8vIERpc3B1dGUgTWV0YVxuICBESVNQVVRFX01FVEE6IEJ1ZmZlci5mcm9tKFs2MiwgMTQsIDIyMSwgNjQsIDE3NSwgMjQxLCA0OCwgMTY1XSksXG59IGFzIGNvbnN0O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRkVFIENPTkZJR1VSQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBGRUVTID0ge1xuICAvLyBQbGF0Zm9ybSBmZWVzIGJ5IGxheWVyIChicHMgPSBiYXNpcyBwb2ludHMsIDEwMCBicHMgPSAxJSlcbiAgT0ZGSUNJQUxfUExBVEZPUk1fRkVFX0JQUzogMjUwLCAvLyAyLjUlXG4gIExBQl9QTEFURk9STV9GRUVfQlBTOiAzMDAsICAgICAgLy8gMyVcbiAgUFJJVkFURV9QTEFURk9STV9GRUVfQlBTOiAyMDAsICAvLyAyJVxuXG4gIC8vIENyZWF0aW9uIGZlZXMgKGluIGxhbXBvcnRzKVxuICBPRkZJQ0lBTF9DUkVBVElPTl9GRUU6IDEwXzAwMF8wMDAsICAvLyAwLjAxIFNPTFxuICBMQUJfQ1JFQVRJT05fRkVFOiAxMF8wMDBfMDAwLCAgICAgICAvLyAwLjAxIFNPTFxuICBQUklWQVRFX0NSRUFUSU9OX0ZFRTogMTBfMDAwXzAwMCwgICAvLyAwLjAxIFNPTFxuXG4gIC8vIEZlZSBzcGxpdCAod2l0aGluIHBsYXRmb3JtIGZlZSlcbiAgQUZGSUxJQVRFX0ZFRV9CUFM6IDEwMCwgIC8vIDElXG4gIENSRUFUT1JfRkVFX0JQUzogNTAsICAgICAvLyAwLjUlIChkZWZhdWx0LCBjYW4gdmFyeSlcblxuICBCUFNfREVOT01JTkFUT1I6IDEwMDAwLFxufSBhcyBjb25zdDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEJFVCBMSU1JVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBCRVRfTElNSVRTID0ge1xuICBNSU5fQkVUX1NPTDogMC4wMSxcbiAgTUFYX0JFVF9TT0w6IDEwMCxcbiAgTUlOX0JFVF9MQU1QT1JUUzogMTBfMDAwXzAwMCwgICAvLyAwLjAxIFNPTFxuICBNQVhfQkVUX0xBTVBPUlRTOiAxMDBfMDAwXzAwMF8wMDAsIC8vIDEwMCBTT0xcbn0gYXMgY29uc3Q7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUSU1JTkcgQ09OU1RBTlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgVElNSU5HID0ge1xuICAvLyBCZXR0aW5nIGZyZWV6ZSBiZWZvcmUgY2xvc2UgKHNlY29uZHMpXG4gIEJFVFRJTkdfRlJFRVpFX1NFQ09ORFM6IDMwMCwgLy8gNSBtaW51dGVzXG5cbiAgLy8gTWluaW11bSBidWZmZXIgYmV0d2VlbiBjbG9zaW5nIHRpbWUgYW5kIGV2ZW50IChob3VycylcbiAgTUlOX0VWRU5UX0JVRkZFUl9IT1VSUzogMTIsXG4gIFJFQ09NTUVOREVEX0VWRU5UX0JVRkZFUl9IT1VSUzogMjQsXG5cbiAgLy8gTWF4aW11bSBtYXJrZXQgZHVyYXRpb25cbiAgTUFYX01BUktFVF9EVVJBVElPTl9EQVlTOiAzNjUsXG5cbiAgLy8gUmVzb2x1dGlvbiB0aW1pbmdcbiAgTUlOX1JFU09MVVRJT05fQlVGRkVSX1NFQ09ORFM6IDYwMCwgIC8vIDEwIG1pbnV0ZXNcbiAgTUFYX1JFU09MVVRJT05fQlVGRkVSX1NFQ09ORFM6IDYwNDgwMCwgLy8gNyBkYXlzXG5cbiAgLy8gRGlzcHV0ZSB3aW5kb3dcbiAgRElTUFVURV9XSU5ET1dfU0VDT05EUzogODY0MDAsIC8vIDI0IGhvdXJzXG59IGFzIGNvbnN0O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTUFSS0VUIFNUQVRVUyAmIE9VVENPTUUgRU5VTVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBNQVJLRVRfU1RBVFVTID0ge1xuICBBQ1RJVkU6IDAsXG4gIENMT1NFRDogMSxcbiAgUkVTT0xWRUQ6IDIsXG4gIENBTkNFTExFRDogMyxcbiAgUEFVU0VEOiA0LFxuICBSRVNPTFZFRF9QRU5ESU5HOiA1LFxuICBESVNQVVRFRDogNixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBNQVJLRVRfU1RBVFVTX05BTUVTOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge1xuICAwOiAnQWN0aXZlJyxcbiAgMTogJ0Nsb3NlZCcsXG4gIDI6ICdSZXNvbHZlZCcsXG4gIDM6ICdDYW5jZWxsZWQnLFxuICA0OiAnUGF1c2VkJyxcbiAgNTogJ1Jlc29sdmVkUGVuZGluZycsXG4gIDY6ICdEaXNwdXRlZCcsXG59O1xuXG5leHBvcnQgY29uc3QgTUFSS0VUX09VVENPTUUgPSB7XG4gIFVOREVDSURFRDogMCxcbiAgSU5WQUxJRDogMSxcbiAgWUVTOiAyLFxuICBOTzogMyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBNQVJLRVRfT1VUQ09NRV9OQU1FUzogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcbiAgMDogJ1VuZGVjaWRlZCcsXG4gIDE6ICdJbnZhbGlkJyxcbiAgMjogJ1llcycsXG4gIDM6ICdObycsXG59O1xuXG5leHBvcnQgY29uc3QgTUFSS0VUX0xBWUVSID0ge1xuICBPRkZJQ0lBTDogMCxcbiAgTEFCOiAxLFxuICBQUklWQVRFOiAyLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IE1BUktFVF9MQVlFUl9OQU1FUzogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcbiAgMDogJ09mZmljaWFsJyxcbiAgMTogJ0xhYicsXG4gIDI6ICdQcml2YXRlJyxcbn07XG5cbmV4cG9ydCBjb25zdCBNQVJLRVRfVFlQRSA9IHtcbiAgRVZFTlQ6IDAsICAgICAgLy8gRXZlbnQtYmFzZWQgKFJ1bGUgQSlcbiAgTUVBU1VSRU1FTlQ6IDEsIC8vIE1lYXN1cmVtZW50LXBlcmlvZCAoUnVsZSBCKVxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IE1BUktFVF9UWVBFX05BTUVTOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge1xuICAwOiAnRXZlbnQnLFxuICAxOiAnTWVhc3VyZW1lbnQnLFxufTtcblxuZXhwb3J0IGNvbnN0IEFDQ0VTU19HQVRFID0ge1xuICBQVUJMSUM6IDAsXG4gIFdISVRFTElTVDogMSxcbn0gYXMgY29uc3Q7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDVVJSRU5DWSBUWVBFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IENVUlJFTkNZX1RZUEUgPSB7XG4gIFNPTDogMCxcbiAgVVNEQzogMSxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBDVVJSRU5DWV9UWVBFX05BTUVTOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge1xuICAwOiAnU29sJyxcbiAgMTogJ1VzZGMnLFxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVSUk9SIENPREVTIChmcm9tIElETClcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9DT0RFUzogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcbiAgNjAwMDogJ05vdEV4cGVjdGVkQWRtaW4nLFxuICA2MDAxOiAnTm90QWRtaW4nLFxuICA2MDAyOiAnTm90QWRtaW5Pckd1YXJkaWFuJyxcbiAgNjAwMzogJ0ludmFsaWRVc2RjTWludCcsXG4gIDYwMDQ6ICdJbnZhbGlkVHJlYXN1cnknLFxuICA2MDA1OiAnSW52YWxpZFZhdWx0JyxcbiAgNjAwNjogJ1Byb3RvY29sUGF1c2VkJyxcbiAgNjAwNzogJ01hcmtldFBhdXNlZCcsXG4gIDYwMDg6ICdRdWVzdGlvblRvb0xvbmcnLFxuICA2MDA5OiAnQ2xvc2luZ1RpbWVJblBhc3QnLFxuICA2MDEwOiAnQ2xvc2luZ1RpbWVUb29GYXInLFxuICA2MDExOiAnRXZlbnRTdGFydFRpbWVJblBhc3QnLFxuICA2MDEyOiAnRXZlbnRTdGFydFRpbWVUb29GYXInLFxuICA2MDEzOiAnSW52YWxpZEF1dG9TdG9wQnVmZmVyJyxcbiAgNjAxNDogJ0ludmFsaWRSZXNvbHV0aW9uQnVmZmVyJyxcbiAgNjAxNTogJ01hcmtldE5vdE9wZW4nLFxuICA2MDE2OiAnTWFya2V0Tm90Q2xvc2VkJyxcbiAgNjAxNzogJ01hcmtldE5vdFJlc29sdmVkJyxcbiAgNjAxODogJ0JldHRpbmdDbG9zZWQnLFxuICA2MDE5OiAnRXZlbnRTdGFydGVkJyxcbiAgNjAyMDogJ0JldFRvb1NtYWxsJyxcbiAgNjAyMTogJ1NsaXBwYWdlRXhjZWVkZWQnLFxuICA2MDIyOiAnRmVlT25UcmFuc2Zlck5vdFN1cHBvcnRlZCcsXG4gIDYwMjM6ICdTbmFwc2hvdFRvb0Vhcmx5JyxcbiAgNjAyNDogJ1NuYXBzaG90QWxyZWFkeVRha2VuJyxcbiAgNjAyNTogJ1NuYXBzaG90Tm90VGFrZW4nLFxuICA2MDI2OiAnQ2xvc2VUb29FYXJseScsXG4gIDYwMjc6ICdSZXNvbHV0aW9uRGVhZGxpbmVQYXNzZWQnLFxuICA2MDI4OiAnSW52YWxpZE91dGNvbWUnLFxuICA2MDI5OiAnQWxyZWFkeVJlc29sdmVkJyxcbiAgNjAzMDogJ0VtZXJnZW5jeVJlc29sdmVUb29FYXJseScsXG4gIDYwMzE6ICdXcm9uZ0N1cnJlbmN5JyxcbiAgNjAzMjogJ0FscmVhZHlDbGFpbWVkJyxcbiAgNjAzMzogJ05vdGhpbmdUb0NsYWltJyxcbiAgNjAzNDogJ01hdGhPdmVyZmxvdycsXG4gIDYwMzU6ICdUb29FYXJseVRvUmVzb2x2ZScsXG4gIDYwMzY6ICdGZWVUb29IaWdoJyxcbiAgNjAzNzogJ0luc3VmZmljaWVudFZhdWx0QmFsYW5jZScsXG4gIDYwMzg6ICdJbnZhbGlkUG9zaXRpb24nLFxuICA2MDM5OiAnSW52YWxpZFRva2VuQWNjb3VudCcsXG4gIDYwNDA6ICdCZXR0aW5nRnJvemVuJyxcbiAgNjA0MTogJ0JldFRvb0xhcmdlJyxcbiAgNjA0MjogJ0luc3VmZmljaWVudE1hcmtldEJhbGFuY2UnLFxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNZU1RFTSBQUk9HUkFNIElEU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IFNZU1RFTV9QUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleSgnMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEnKTtcbmV4cG9ydCBjb25zdCBUT0tFTl9QUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleSgnVG9rZW5rZWdRZmVaeWlOd0FKYk5iR0tQRlhDV3VCdmY5U3M2MjNWUTVEQScpO1xuZXhwb3J0IGNvbnN0IEFTU09DSUFURURfVE9LRU5fUFJPR1JBTV9JRCA9IG5ldyBQdWJsaWNLZXkoJ0FUb2tlbkdQdmJkR1Z4cjFiMmh2WmJzaXFXNXhXSDI1ZWZUTnNMSkE4a25MJyk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBsYW1wb3J0cyBmcm9tIFNPTFxuICovXG5leHBvcnQgZnVuY3Rpb24gc29sVG9MYW1wb3J0cyhzb2w6IG51bWJlcik6IGJpZ2ludCB7XG4gIHJldHVybiBCaWdJbnQoTWF0aC5mbG9vcihzb2wgKiAxXzAwMF8wMDBfMDAwKSk7XG59XG5cbi8qKlxuICogR2V0IFNPTCBmcm9tIGxhbXBvcnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYW1wb3J0c1RvU29sKGxhbXBvcnRzOiBiaWdpbnQgfCBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTnVtYmVyKGxhbXBvcnRzKSAvIDFfMDAwXzAwMF8wMDA7XG59XG5cbi8qKlxuICogRGVyaXZlIG1hcmtldCBQREEgZnJvbSBtYXJrZXQgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZU1hcmtldFBkYShtYXJrZXRJZDogbnVtYmVyIHwgYmlnaW50KTogW1B1YmxpY0tleSwgbnVtYmVyXSB7XG4gIGNvbnN0IG1hcmtldElkQnVmZmVyID0gQnVmZmVyLmFsbG9jKDgpO1xuICBtYXJrZXRJZEJ1ZmZlci53cml0ZUJpZ1VJbnQ2NExFKEJpZ0ludChtYXJrZXRJZCkpO1xuICByZXR1cm4gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW1NFRURTLk1BUktFVCwgbWFya2V0SWRCdWZmZXJdLFxuICAgIFBST0dSQU1fSURcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXJpdmUgcG9zaXRpb24gUERBIGZyb20gbWFya2V0IElEIGFuZCB1c2VyIHdhbGxldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlUG9zaXRpb25QZGEobWFya2V0SWQ6IG51bWJlciB8IGJpZ2ludCwgdXNlcjogUHVibGljS2V5KTogW1B1YmxpY0tleSwgbnVtYmVyXSB7XG4gIGNvbnN0IG1hcmtldElkQnVmZmVyID0gQnVmZmVyLmFsbG9jKDgpO1xuICBtYXJrZXRJZEJ1ZmZlci53cml0ZUJpZ1VJbnQ2NExFKEJpZ0ludChtYXJrZXRJZCkpO1xuICByZXR1cm4gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW1NFRURTLlBPU0lUSU9OLCBtYXJrZXRJZEJ1ZmZlciwgdXNlci50b0J1ZmZlcigpXSxcbiAgICBQUk9HUkFNX0lEXG4gICk7XG59XG5cbi8qKlxuICogRGVyaXZlIHJhY2UgcG9zaXRpb24gUERBIGZyb20gbWFya2V0IElEIGFuZCB1c2VyIHdhbGxldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlUmFjZVBvc2l0aW9uUGRhKG1hcmtldElkOiBudW1iZXIgfCBiaWdpbnQsIHVzZXI6IFB1YmxpY0tleSk6IFtQdWJsaWNLZXksIG51bWJlcl0ge1xuICBjb25zdCBtYXJrZXRJZEJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyg4KTtcbiAgbWFya2V0SWRCdWZmZXIud3JpdGVCaWdVSW50NjRMRShCaWdJbnQobWFya2V0SWQpKTtcbiAgcmV0dXJuIFB1YmxpY0tleS5maW5kUHJvZ3JhbUFkZHJlc3NTeW5jKFxuICAgIFtTRUVEUy5SQUNFX1BPU0lUSU9OLCBtYXJrZXRJZEJ1ZmZlciwgdXNlci50b0J1ZmZlcigpXSxcbiAgICBQUk9HUkFNX0lEXG4gICk7XG59XG5cbi8qKlxuICogRGVyaXZlIGFmZmlsaWF0ZSBQREEgZnJvbSByZWZlcnJhbCBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVBZmZpbGlhdGVQZGEocmVmZXJyYWxDb2RlOiBzdHJpbmcpOiBbUHVibGljS2V5LCBudW1iZXJdIHtcbiAgcmV0dXJuIFB1YmxpY0tleS5maW5kUHJvZ3JhbUFkZHJlc3NTeW5jKFxuICAgIFtTRUVEUy5BRkZJTElBVEUsIEJ1ZmZlci5mcm9tKHJlZmVycmFsQ29kZSldLFxuICAgIFBST0dSQU1fSURcbiAgKTtcbn1cblxuLyoqXG4gKiBHZXQgcGxhdGZvcm0gZmVlIGZvciBhIGxheWVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGF0Zm9ybUZlZUZvckxheWVyKGxheWVyOiBudW1iZXIpOiBudW1iZXIge1xuICBzd2l0Y2ggKGxheWVyKSB7XG4gICAgY2FzZSBNQVJLRVRfTEFZRVIuT0ZGSUNJQUw6XG4gICAgICByZXR1cm4gRkVFUy5PRkZJQ0lBTF9QTEFURk9STV9GRUVfQlBTO1xuICAgIGNhc2UgTUFSS0VUX0xBWUVSLkxBQjpcbiAgICAgIHJldHVybiBGRUVTLkxBQl9QTEFURk9STV9GRUVfQlBTO1xuICAgIGNhc2UgTUFSS0VUX0xBWUVSLlBSSVZBVEU6XG4gICAgICByZXR1cm4gRkVFUy5QUklWQVRFX1BMQVRGT1JNX0ZFRV9CUFM7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBGRUVTLkxBQl9QTEFURk9STV9GRUVfQlBTO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGNyZWF0aW9uIGZlZSBmb3IgYSBsYXllciAoaW4gbGFtcG9ydHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDcmVhdGlvbkZlZUZvckxheWVyKGxheWVyOiBudW1iZXIpOiBudW1iZXIge1xuICBzd2l0Y2ggKGxheWVyKSB7XG4gICAgY2FzZSBNQVJLRVRfTEFZRVIuT0ZGSUNJQUw6XG4gICAgICByZXR1cm4gRkVFUy5PRkZJQ0lBTF9DUkVBVElPTl9GRUU7XG4gICAgY2FzZSBNQVJLRVRfTEFZRVIuTEFCOlxuICAgICAgcmV0dXJuIEZFRVMuTEFCX0NSRUFUSU9OX0ZFRTtcbiAgICBjYXNlIE1BUktFVF9MQVlFUi5QUklWQVRFOlxuICAgICAgcmV0dXJuIEZFRVMuUFJJVkFURV9DUkVBVElPTl9GRUU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBGRUVTLkxBQl9DUkVBVElPTl9GRUU7XG4gIH1cbn1cbiJdfQ==